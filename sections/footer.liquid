{% schema %}
{
  "name": "Pituco Footer",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Footer Logo"
    },
    {
      "type": "range",
      "id": "logo_width",
      "min": 50,
      "max": 200,
      "step": 5,
      "unit": "px",
      "label": "Logo width",
      "default": 100
    },
    {
      "type": "header",
      "content": "Social Media"
    },
    {
      "type": "checkbox",
      "id": "show_social",
      "default": true,
      "label": "Show social media icons"
    },
    {
      "type": "header",
      "content": "Menus"
    },
    {
      "type": "link_list",
      "id": "menu_1",
      "label": "Menu 1",
      "default": "footer"
    },
    {
      "type": "text",
      "id": "menu_1_title",
      "label": "Menu 1 Title",
      "default": "KATALOG"
    },
    {
      "type": "link_list",
      "id": "menu_2",
      "label": "Menu 2",
      "default": "footer"
    },
    {
      "type": "text",
      "id": "menu_2_title",
      "label": "Menu 2 Title",
      "default": "SEMENDER'İ TANI"
    },
    {
      "type": "link_list",
      "id": "menu_3",
      "label": "Menu 3",
      "default": "footer"
    },
    {
      "type": "text",
      "id": "menu_3_title",
      "label": "Menu 3 Title",
      "default": "BİLGİ"
    },
    {
      "type": "link_list",
      "id": "menu_4",
      "label": "Menu 4",
      "default": "footer"
    },
    {
      "type": "text",
      "id": "menu_4_title",
      "label": "Menu 4 Title",
      "default": "YASAL POLİTİKALAR"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#4A3B32"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#E8E0D5"
    }
  ],
  "presets": [
    {
      "name": "Pituco Footer"
    }
  ]
}
{% endschema %}

<footer class="pituco-footer" style="background-color: {{ section.settings.bg_color }}; color: {{ section.settings.text_color }};">
  <div class="page-width">
    <div class="footer-grid">
      <!-- Column 1: Logo & Socials -->
      <div class="footer-col footer-brand-col">
        {%- if section.settings.logo != blank -%}
          <div class="footer-logo-wrapper">
            {{ section.settings.logo | image_url: width: section.settings.logo_width | image_tag: class: 'footer-logo', loading: 'lazy' }}
          </div>
        {%- else -%}
          <h2 class="h2" style="color: {{ section.settings.text_color }}">{{ shop.name }}</h2>
        {%- endif -%}

        {%- if section.settings.show_social -%}
          <ul class="footer-social-list list-unstyled" role="list">
            {%- if settings.social_facebook_link != blank -%}
              <li class="list-social__item">
                <a href="{{ settings.social_facebook_link }}" class="link list-social__link">
                  {%- render 'icon-facebook' -%}
                  <span class="visually-hidden">{{ 'general.social.links.facebook' | t }}</span>
                </a>
              </li>
            {%- endif -%}
            {%- if settings.social_instagram_link != blank -%}
              <li class="list-social__item">
                <a href="{{ settings.social_instagram_link }}" class="link list-social__link">
                  {%- render 'icon-instagram' -%}
                  <span class="visually-hidden">{{ 'general.social.links.instagram' | t }}</span>
                </a>
              </li>
            {%- endif -%}
            {%- if settings.social_tiktok_link != blank -%}
              <li class="list-social__item">
                <a href="{{ settings.social_tiktok_link }}" class="link list-social__link">
                  {%- render 'icon-tiktok' -%}
                  <span class="visually-hidden">{{ 'general.social.links.tiktok' | t }}</span>
                </a>
              </li>
            {%- endif -%}
            {%- if settings.social_youtube_link != blank -%}
              <li class="list-social__item">
                <a href="{{ settings.social_youtube_link }}" class="link list-social__link">
                  {%- render 'icon-youtube' -%}
                  <span class="visually-hidden">{{ 'general.social.links.youtube' | t }}</span>
                </a>
              </li>
            {%- endif -%}
          </ul>
        {%- endif -%}
      </div>

      <!-- Column 2: Menu 1 -->
      <div class="footer-col">
        {% if section.settings.menu_1_title != blank %}
          <h3 class="footer-menu-title">{{ section.settings.menu_1_title }}</h3>
        {% endif %}
        {% if section.settings.menu_1 != blank %}
          <ul class="footer-menu-list list-unstyled">
            {% for link in section.settings.menu_1.links %}
              <li>
                <a href="{{ link.url }}" class="footer-menu-link link link--text list-menu__item list-menu__item--link{% if link.active %} list-menu__item--active{% endif %}">
                  {{ link.title }}
                </a>
              </li>
            {% endfor %}
          </ul>
        {% endif %}
      </div>

      <!-- Column 3: Menu 2 -->
      <div class="footer-col">
        {% if section.settings.menu_2_title != blank %}
          <h3 class="footer-menu-title">{{ section.settings.menu_2_title }}</h3>
        {% endif %}
        {% if section.settings.menu_2 != blank %}
          <ul class="footer-menu-list list-unstyled">
            {% for link in section.settings.menu_2.links %}
              <li>
                <a href="{{ link.url }}" class="footer-menu-link link link--text list-menu__item list-menu__item--link{% if link.active %} list-menu__item--active{% endif %}">
                  {{ link.title }}
                </a>
              </li>
            {% endfor %}
          </ul>
        {% endif %}
      </div>

      <!-- Column 4: Menu 3 -->
      <div class="footer-col">
        {% if section.settings.menu_3_title != blank %}
          <h3 class="footer-menu-title">{{ section.settings.menu_3_title }}</h3>
        {% endif %}
        {% if section.settings.menu_3 != blank %}
          <ul class="footer-menu-list list-unstyled">
            {% for link in section.settings.menu_3.links %}
              <li>
                <a href="{{ link.url }}" class="footer-menu-link link link--text list-menu__item list-menu__item--link{% if link.active %} list-menu__item--active{% endif %}">
                  {{ link.title }}
                </a>
              </li>
            {% endfor %}
          </ul>
        {% endif %}
      </div>

      <!-- Column 5: Menu 4 -->
      <div class="footer-col">
        {% if section.settings.menu_4_title != blank %}
          <h3 class="footer-menu-title">{{ section.settings.menu_4_title }}</h3>
        {% endif %}
        {% if section.settings.menu_4 != blank %}
          <ul class="footer-menu-list list-unstyled">
            {% for link in section.settings.menu_4.links %}
              <li>
                <a href="{{ link.url }}" class="footer-menu-link link link--text list-menu__item list-menu__item--link{% if link.active %} list-menu__item--active{% endif %}">
                  {{ link.title }}
                </a>
              </li>
            {% endfor %}
          </ul>
        {% endif %}
      </div>
    </div>
  </div>
</footer>

<style>
  .pituco-footer {
    padding: 6rem 0;
    font-size: 1.4rem;
    line-height: 1.6;
  }

  .footer-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 4rem;
  }

  @media screen and (min-width: 750px) {
    .footer-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media screen and (min-width: 990px) {
    .footer-grid {
      grid-template-columns: 1.5fr 1fr 1fr 1fr 1fr; /* Logo col wider, others equal */
      gap: 2rem;
    }
  }

  .footer-brand-col {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  .footer-logo-wrapper {
    margin-bottom: 2rem;
  }

  .footer-logo {
    height: auto;
    object-fit: contain;
  }

  .footer-social-list {
    display: flex;
    gap: 1.5rem;
    margin-top: 1rem;
  }

  .list-social__link {
    color: inherit;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .list-social__link .icon {
    width: 2rem;
    height: 2rem;
  }

  .footer-menu-title {
    font-size: 1.2rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 2rem;
    color: inherit;
    opacity: 0.9;
  }

  .footer-menu-list li {
    margin-bottom: 1.2rem;
  }

  .footer-menu-link {
    color: inherit;
    text-decoration: none;
    opacity: 0.8;
    transition: opacity 0.2s;
  }

  .footer-menu-link:hover {
    opacity: 1;
    text-decoration: underline;
    text-underline-offset: 0.3rem;
  }
</style>
